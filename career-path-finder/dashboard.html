<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Path Finder - Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Braah+One&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="dark-theme">
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo-text">Path Finder//</h1>
            </div>
            
            <!-- Navigation -->
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3 class="nav-title">Profile Setup</h3>
                    <ul class="nav-list">
                        <li><a href="#" class="nav-link active" data-section="education">
                            <span class="nav-icon">üéì</span>
                            Education
                        </a></li>
                        <li><a href="#" class="nav-link active" data-section="skills">
                            <span class="nav-icon">üí°</span>
                            Skills
                        </a></li>
                        <li><a href="#" class="nav-link" data-section="experience">
                            <span class="nav-icon">üíº</span>
                            Experience
                        </a></li>
                        <li><a href="#" class="nav-link" data-section="interests">
                            <span class="nav-icon">üéØ</span>
                            Interests
                        </a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Results</h3>
                    <ul class="nav-list">
                        <li>
                            <a href="recommendations.html" class="nav-link" id="recommendationsLink">
                                <span class="nav-icon">üìä</span>
                                Career Paths
                            </a>
                        </li>
                        <li>
                            <a href="skills-gap.html" class="nav-link">
                                <span class="nav-icon">üìà</span>
                                Skills Gap
                            </a>
                        </li>
                        <li>
                            <a href="job-matches.html" class="nav-link">
                                <span class="nav-icon">ü§ù</span>
                                Job Matches
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- User Menu -->
            <div class="user-menu">
                <div class="user-info">
                    <img src="images/avatar-placeholder.png" alt="User Avatar" class="user-avatar">
                    <div class="user-details">
                        <span class="user-name" id="userName">User Name</span>
                        <span class="user-email" id="userEmail">user@example.com</span>
                    </div>
                </div>
                <button class="logout-btn" onclick="handleLogout()">
                    <span class="nav-icon">üö™</span>
                    Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" >
         <div id="notification">
            <!-- Header -->
            <header class="content-header">
                <h2 class="page-title" id="sectionTitle">Education Background</h2>
                <div class="header-actions">
                    <button class="help-btn">
                        <span class="nav-icon">‚ùì</span>
                        Help
                    </button>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="content-container">
                <!-- Education Section -->
                <section id="education" class="content-section active">
                    <div class="form-card">
                        <h3 class="form-title">Educational Background</h3>
                        <form id="educationForm" class="dashboard-form">
                            <div class="form-group">
                                <label for="highestDegree">Highest Degree Achieved</label>
                                <div class="degree-select-container">
                                    <select id="highestDegree" required>
                                        <option value="">Select Degree</option>
                                        <option value="highschool">High School Diploma</option>
                                        <option value="associates">Associate's Degree</option>
                                        <option value="bachelors">Bachelor's Degree</option>
                                        <option value="masters">Master's Degree</option>
                                        <option value="phd">Doctorate (Ph.D.)</option>
                                        <option value="professional">Professional Degree (MD, JD, etc.)</option>
                                        <option value="certification">Professional Certification</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="fieldOfStudy">Field of Study</label>
                                <input type="text" id="fieldOfStudy" placeholder="e.g., Computer Science" required>
                            </div>

                            <div class="form-group">
                                <label for="graduationYear">Graduation Year</label>
                                <input type="number" id="graduationYear" min="1950" max="2025" required>
                            </div>

                            <div class="form-group">
                                <label for="institution">Institution</label>
                                <input type="text" id="institution" placeholder="Name of your institution" required>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="primary-button">Save & Continue</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Skills Section -->
                <section id="skills" class="content-section active">
                    <div class="form-card">
                        <h3 class="form-title">Skills & Expertise</h3>
                        
                        <div class="selected-skills-container">
                            <div class="section-header">
                                <h4 class="section-title">Your Skills</h4>
                                <span class="skills-count">0/16 skills added</span>
                            </div>
                            
                            <div id="selectedSkillsList" class="selected-skills-list">
                                <!-- Selected skills will be displayed here -->
                            </div>
                            
                            <button type="button" class="add-skill-btn" onclick="openSkillModal()">
                                <span class="btn-icon">+</span>
                                Add Skill
                            </button>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="secondary-button" onclick="prevSection()">Back</button>
                            <button type="button" class="primary-button" onclick="nextSection()">Save & Continue</button>
                        </div>
                    </div>
                    <button class="text-red-600">test</button>
                </section>

                <!-- Experience Section -->
                <section id="experience" class="content-section">
                    <div class="form-card">
                        <h3 class="form-title">Work Experience</h3>
                        <form id="experienceForm" class="dashboard-form" onsubmit="return validateAndNext()">
                            <div id="experienceList">
                                <div class="experience-entry">
                                    <div class="form-group">
                                        <label for="jobTitle">Job Title</label>
                                        <input type="text" id="jobTitle" placeholder="e.g., Software Developer" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="company">Company</label>
                                        <input type="text" id="company" placeholder="Company name" required>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="startDate">Start Date</label>
                                            <input type="month" id="startDate" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="endDate">End Date</label>
                                            <input type="month" id="endDate">
                                            <div class="checkbox-group">
                                                <input type="checkbox" id="currentJob">
                                                <label for="currentJob">I currently work here</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="jobDescription">Description</label>
                                        <textarea id="jobDescription" rows="4" placeholder="Describe your responsibilities and achievements"></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-experience-btn" onclick="addExperienceEntry()">
                                + Add Another Experience
                            </button>
                            <div class="form-actions">
                                <button type="button" class="secondary-button" onclick="prevSection()">Back</button>
                                <button type="submit" class="primary-button">Save & Continue</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Interests Section -->
                <section id="interests" class="content-section">
                    <div class="form-card">
                        <h3 class="form-title">Career Interests</h3>
                        
                        <div class="selected-interests-container">
                            <div class="section-header">
                                <h4 class="section-title">Your Career Interests</h4>
                                <span class="interests-count">0/10 interests added</span>
                            </div>
                            
                            <div id="selectedInterestsList" class="selected-interests-list">
                                <!-- Selected interests will be displayed here -->
                            </div>
                            
                            <button type="button" class="add-interest-btn" onclick="openInterestModal()">
                                <span class="btn-icon">+</span>
                                Add Interest
                            </button>
                        </div>

                        <!-- Work Preferences -->
                        <div class="work-preferences">
                            <h3>Work Environment</h3>
                            <div class="preference-buttons">
                                <button class="preference-btn" data-type="environment" data-value="remote" onclick="togglePreference('environment', 'remote')">
                                    üè† Remote
                                </button>
                                <button class="preference-btn" data-type="environment" data-value="hybrid" onclick="togglePreference('environment', 'hybrid')">
                                    üè¢ Hybrid
                                </button>
                                <button class="preference-btn" data-type="environment" data-value="onsite" onclick="togglePreference('environment', 'onsite')">
                                    üè¢ On-site
                                </button>
                            </div>

                            <h3>Company Size</h3>
                            <div class="preference-buttons">
                                <button class="preference-btn" data-type="companySize" data-value="startup" onclick="togglePreference('companySize', 'startup')">
                                    üöÄ Startup
                                </button>
                                <button class="preference-btn" data-type="companySize" data-value="midsize" onclick="togglePreference('companySize', 'midsize')">
                                    üìà Mid-size
                                </button>
                                <button class="preference-btn" data-type="companySize" data-value="enterprise" onclick="togglePreference('companySize', 'enterprise')">
                                    üè¢ Enterprise
                                </button>
                            </div>

                            <h3>Career Level</h3>
                            <div class="preference-buttons">
                                <button class="preference-btn" data-type="careerLevel" data-value="entry" onclick="togglePreference('careerLevel', 'entry')">
                                    üå± Entry Level
                                </button>
                                <button class="preference-btn" data-type="careerLevel" data-value="mid" onclick="togglePreference('careerLevel', 'mid')">
                                    üíº Mid Level
                                </button>
                                <button class="preference-btn" data-type="careerLevel" data-value="senior" onclick="togglePreference('careerLevel', 'senior')">
                                    ‚≠ê Senior Level
                                </button>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="secondary-button" onclick="prevSection()">Back</button>
                            <button type="button" class="primary-button" id="completeProfileBtn" onclick="completeProfile()">
                                Complete Profile & View Recommendations
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Skills Modal -->
    <div id="skillModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Technical Skills</h3>
                <button class="close-btn" onclick="closeSkillModal()">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="skill-input-wrapper">
                    <div class="search-input">
                        <span class="search-icon">üîç</span>
                        <input type="text" 
                               id="skillInput" 
                               placeholder="Search skills (e.g., Python, React)" 
                               oninput="searchSkills(this.value)">
                    </div>
                    <span class="skills-remaining">You can add 16 more skills</span>
                </div>

                <div class="skill-categories">
                    <h4>Categories</h4>
                    <div class="category-pills">
                        <button class="category-pill active" data-category="all" onclick="filterSkillsByCategory('all')">All</button>
                        <button class="category-pill" data-category="programming" onclick="filterSkillsByCategory('programming')">Programming</button>
                        <button class="category-pill" data-category="webDevelopment" onclick="filterSkillsByCategory('webDevelopment')">Web Development</button>
                        <button class="category-pill" data-category="database" onclick="filterSkillsByCategory('database')">Database</button>
                        <button class="category-pill" data-category="cloudServices" onclick="filterSkillsByCategory('cloudServices')">Cloud & DevOps</button>
                        <button class="category-pill" data-category="dataScience" onclick="filterSkillsByCategory('dataScience')">Data Science</button>
                    </div>
                </div>

                <div class="suggested-skills">
                    <h4>Available Skills</h4>
                    <div class="skill-suggestions">
                        <!-- Skills will be populated dynamically -->
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="secondary-button" onclick="closeSkillModal()">Cancel</button>
                <button class="primary-button" onclick="saveSkills()">Add Selected Skills</button>
            </div>
        </div>
    </div>

    <!-- Interests Modal -->
    <div id="interestModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Career Interests</h3>
                <button class="close-btn" onclick="closeInterestModal()">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="search-input">
                    <span class="search-icon">üîç</span>
                    <input type="text" 
                           id="interestInput" 
                           placeholder="Search interests" 
                           oninput="searchInterests(this.value)">
                </div>

                <div class="interest-categories">
                    <!-- Interest categories will be populated dynamically -->
                </div>
            </div>

            <div class="modal-footer">
                <span class="interests-remaining">You can add 10 more interests</span>
                <div class="modal-actions">
                    <button class="secondary-button" onclick="closeInterestModal()">Cancel</button>
                    <button class="primary-button" onclick="saveInterests()">Save Interests</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Component -->
    <div id="notification" class="notification hidden"></div>

    <!-- Scripts -->
    <script>
        // Check user authentication on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Add event listener for recommendations link
            const recommendationsLink = document.getElementById('recommendationsLink');
            if (recommendationsLink) {
                recommendationsLink.addEventListener('click', function(e) {
                    const userProfile = JSON.parse(localStorage.getItem('userProfile'));
                    if (!userProfile || !userProfile.metadata || !userProfile.metadata.isComplete) {
                        e.preventDefault();
                        showNotification('Please complete your profile first', 'error');
                    }
                });
            }

            // Check if user is logged in
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                window.location.href = 'index.html';
                return;
            }

            // Initialize user info
            document.getElementById('userName').textContent = user.fullName || 'User';
            document.getElementById('userEmail').textContent = user.email || '';
        });
    </script>
    <script src="js/dashboard.js"></script>
</body>
</html>